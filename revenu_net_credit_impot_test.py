import revenu_net as rn
import revenu_brut as rb
import revenu_brut_auto as auto
import revenu_brut_pret as pret

print("*"*50, "262")
crn = rn.RevenuNet()
crn.a(revenu_location=9565, rpa=14800, revenu_dividende_determine=2000, revenu_agricole=4800, psv=7275)
crn.b(gain_capital_imposable=800*2)
crn.calcul(ap_agricole=7000, ap_autre=4000, ap_capital=3000)
crn.credit_raison_age()
crn.credit_conjoint(epoux=7500)
crn.credit_pension()
crn.credit_personnel_base()
crn.credit_scolarite(montant_scolarite=2000)
crn.credit_frais_medicaux(montant_frais_medicaux=1300+760)
crn.credit_don(montant_don=500)
crn.credit_dividende_determine()
crn.credit_transfere(montant_credit_transfere=1124)
print(crn.credits()== "300 + 685 + 1074 + 1810 + 300 + 129 + 117 + 415 + 1124")

print("*"*50, "264_16 ans")
crb = rb.RevenuBrut()
crb.sb(salaire_net=15000-350-400-472-150-63, impot_fed=350, impot_prov=400, rrq=472, ass_emploi=150, ass_parentale=63)
crb.credit_salaire()
crb.rbe()
crb.calcul()
crn = rn.RevenuNet(crb=crb)
crn.a()
crn.calcul()
crn.credit_personnel_base()
crn.credit_cad_emploi()
crn.credit_scolarite(montant_scolarite=1500)
tmp = crn.credit_transferable()

print("*"*50, "264_André")
crb = rb.RevenuBrut()
crb.sb(impot_fed=11700, impot_prov=14000, ass_collectif=800, ass_maladie_prive=1500, rrq=2991, ass_emploi=664, ass_parentale=402)
crb.rbe(honoraire_admn=600, salaire_brut=84400)
crb.dah(cot_professionnelle=800)
crb.calcul()
crb.credit_salaire()
crn = rn.RevenuNet(crb=crb)
crn.a(revenu_interet=[12000,0])
crn.c(pension_ex=16000)
crn.calcul()
crn.credit_personnel_base()
crn.credit_personne_charge(montant_personne_charge=3900)
crn.credit_cad_emploi()
crn.credit_frais_medicaux(montant_frais_medicaux=2225, remb_ass=500)
crn.credit_don(montant_don=125)
crn.credit_transfere(montant_credit_transfere=tmp)
crn.calcul_credits()
print(crn.credits()=="1810 + 131 + 19 + 1225 + 609 + 183 + 71")

print("*"*50, "267")
crb = rb.RevenuBrut()
crb.sb(salaire_net=52000-3000-3800-2692-650-274-2800-1000-550, impot_fed=3000, impot_prov=3800, rrq=2692, ass_emploi=650, ass_parentale=274, rpa=2800, ass_collectif=1000, cot_syndic=550)
crb.rbe(patron_cot_rpa=2000, advantage_pret=pret.pret(pret=80000, taux_reduit=0, taux=[4,4,4,4], pour_travail=0, start=pret.index_mois("2023-01-02"), end=pret.index_mois("2023-12-31")), patron_frais_representation=300*12)
crb.dah()
crb.calcul()
crb.credit_salaire()
crn = rn.RevenuNet(crb=crb)
crn.a(revenu_dividende_determine=300)
crn.b(perte_capital_deductible=9000)
crn.c(reer=3000)
crn.d()
crn.calcul()
crn.credit_personnel_base()
crn.credit_conjoint(epoux=3500+300) # sb + revenu_interet = rn
crn.credit_cad_emploi()
crn.credit_frais_medicaux(montant_frais_medicaux=2000)
crn.credit_don(montant_don=200)
crn.credit_dividende_determine()
crn.calcul_credits()
print(crn.credits()=="1240 + 1810 + 62 + 30 + 62 + 542 + 183")

print("*"*50, "269_Julie")
crn = rn.RevenuNet()
crn.credit_deficience_physique()
crn.credit_frais_medicaux(montant_frais_medicaux=1200)
tmp = crn.credit_transferable()

print("*"*50, "269")
crb = rb.RevenuBrut()
crb.sb(salaire_net=43500-2220-544-229, ass_emploi=544, ass_parentale=229, rrq=2220)
crb.rbe()
crb.dah()
crb.calcul()
crb.credit_salaire()
crn = rn.RevenuNet(crb=crb)
crn.a(revenu_dividende_determine=2400, rpa=8500, psv=6000, revenu_interet=[(1988+1000+300-1800),0])
crn.b(gain_capital_imposable=300, perte_capital_deductible=2600)
crn.c(reer=7000)
crn.d(perte_loyer=2800)
crn.calcul()
crn.credit_personnel_base()
crn.credit_personne_charge(handicap=True)
crn.credit_raison_age()
crn.credit_pension()
crn.credit_cad_emploi()
crn.credit_transfere(montant_credit_transfere=tmp) # credit_frais_medicaux et credit_deficience_physique
crn.credit_scolarite(montant_scolarite=2500) # credit_transfere
crn.credit_frais_medicaux(montant_frais_medicaux=600)
crn.credit_don(montant_don=100+100)
crn.credit_dividende_determine()
crn.calcul_credits()
crn.credit_impot_etranger(montant_x=1300)
crn.credit_contribution_parti_federaux(montant_contribution_parti_federaux=100)
print(crn.calcul_credits()=="8245 231 38 101")

print("*"*50, "271_conjoint")
crn = rn.RevenuNet()
crn.credit_personnel_base()
tmp1 = crn.credit_transferable()

print("*"*50, "271_pierre")
crn = rn.RevenuNet()
crn.credit_scolarite(montant_scolarite=2000)
tmp2 = crn.credit_transferable()

print("*"*50, "271")
crb = rb.RevenuBrut()
crb.sb(salaire_net=48000-1500-3500-3200-4000-3700-1193-1276-312-288-132-121, rpa=1500, impot_fed=3500+3200, impot_prov=4000+3700, rrq=1193+1276, ass_emploi=312+288, ass_parentale=132+121)
crb.rbe()
crb.dah(cot_syndic=600)
crb.calcul()
crb.credit_salaire()
crn = rn.RevenuNet(crb=crb)
crn.a(allocation_depart_retraite=15000, revenu_dividende_determine=6000, revenu_dividende_etranger=1700, revenu_location=40000) # -3000 impôt déduit à la source (sur le montant)
crn.b()
crn.c(pension_ex=12000, frais_demenagement=1000, reer=7500)
crn.d()
crn.calcul()
crn.credit_personnel_base()
crn.credit_transfere(montant_credit_transfere=tmp1)
crn.credit_cad_emploi()
crn.credit_transfere(montant_credit_transfere=tmp2)
crn.credit_frais_medicaux(montant_frais_medicaux=100+((6100-100)*0.3)+800)
crn.credit_don(montant_don=225)
crn.credit_dividende_determine()
crn.calcul_credits()
crn.credit_contribution_parti_federaux(montant_contribution_parti_federaux=100)
crn.credit_impot_etranger(montant_x=2000)
print(crn.calcul_credits(montant_allocation_depart_retraite=3000)=="15970 10034 1656 1609")