import revenu_net as rn
import revenu_brut as rb
import revenu_brut_auto as auto
import revenu_brut_pret as pret


######################################################################### pension pour ancien combattant exclue
print("*"*50, "197")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=85000)
crn.b(gain_capital_imposable=18000*2, perte_capital_deductible=20000*2)
crn.c(4000)
crn.d(perte_entreprise=80000)
print(crn.calcul()=="85000 + 0 - 4000 - 80000 = 1000")

print("*"*50, "198")
crn = rn.RevenuNet()
crn.a(revenu_agricole=53000, revenu_entreprise=28000+2000, revenu_interet=[7000,0])
crn.b(gain_capital_imposable=5000*2, perte_capital_deductible=9000*2)
crn.c(reer=2000)
crn.d(perte_entreprise=2000)
print(crn.calcul()=="90000 + 0 - 2000 - 2000 = 86000")

print("*"*50, "199")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=15500) 
crn.b(gain_capital_imposable=1000*2, perte_capital_deductible=1500*2)
crn.c(pension_ex=16000)
crn.d(perte_entreprise=2000)
print(crn.calcul()=="15500 + 0 - 15500 - 0 = 0")

print("*"*50, "201a")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=50000, revenu_entreprise=2000, revenu_interet=[500,0])
crn.b(gain_capital_imposable=650*2, perte_capital_deductible=7500*2, perte_placement=7500*2)
crn.d()
print(crn.calcul()=="52500 + 650 - 0 - 7500 = 45650")

print("*"*50, "201b")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=52000, revenu_entreprise=5000, revenu_interet=[500,0])
crn.b(gain_capital_imposable=1000*2, perte_capital_deductible=3000*2, perte_placement=1500*2)
crn.c(pension_ex=6000)
crn.d(perte_entreprise=2000)
print(crn.calcul()=="57500 + 0 - 6000 - 3500 = 48000")

print("*"*50, "201c")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=45000)
crn.b(gain_capital_imposable=2500*2, perte_capital_deductible=1500*2)
crn.c(frais_exploration=20000)
crn.d(perte_loyer=4000, perte_entreprise=10000)
print(crn.calcul()=="45000 + 1000 - 20000 - 14000 = 12000")

print("*"*50, "201d")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=50000, revenu_interet=[1000,0])
crn.b(gain_capital_imposable=250*2, perte_capital_deductible=2000*2)
crn.c(frais_opposition=1300)
crn.d(perte_entreprise=3000)
print(crn.calcul()=="51000 + 0 - 1300 - 3000 = 46700")

print("*"*50, "203")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=52000, revenu_entreprise=2000, revenu_interet=[100,0], revenu_dividende_ordinaire=800, pension_ex=6000, ferr=400)
crn.b(gain_capital_imposable=(1500+500)*2, perte_capital_deductible=9000*2, perte_placement=9000*2)
crn.c(frais_opposition=500, frais_demenagement=4000)
crn.d()
print(crn.calcul()=="61420 + 2000 - 4500 - 9000 = 49920")

print("*"*50, "203")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=13000, pension_ex=6000, ferr=600)
crn.b(gain_capital_imposable=3000*2, perte_capital_deductible=13600*2, perte_placement=5600*2)
crn.c()
crn.d(perte_entreprise=28000, perte_loyer=2000)
print(crn.calcul()=="19600 + 0 - 0 - 19600 = 0")

print("*"*50, "239")
crn = rn.RevenuNet()
print(crn.dd([9000,8000,5000])==[10000, 615, 385])

######################################################################### revenu fractionné

print("*"*50, "242a")
crn = rn.RevenuNet()
crn.a(rpa=70398, psv=7275, rrq=31907)
crn.c()
print(crn.calcul()=="109580 + 0 - 4800 - 0 = 104780")

print("*"*50, "242b")
crn = rn.RevenuNet()
crn.a(psv=7275, rrq=13825)
crn.c()
print(crn.calcul()=="21100 + 0 - 0 - 0 = 21100")

print("*"*50, "242c")
crn = rn.RevenuNet()
crn.a(rpa=70398, psv=7275, rrq=31907)
crn.c(montant_fractionne=0.5)
print(crn.calcul()=="109580 + 0 - 35199 - 0 = 74381")

print("*"*50, "242d")
crn = rn.RevenuNet()
crn.a(psv=7275, rrq=13825+70398*0.5)
print(crn.calcul()=="56299 + 0 - 0 - 0 = 56299")

######################################################################### pension alimentaire périodique et par écrit
print("*"*50, "243")
crn = rn.RevenuNet()
crn.a(prestation_retraite=25000, allocation_depart_retraite=20000, police_ass=50000, bourse_etude=4500)
crn.c(frais_proc_ass_emploi=500,pension_ex=15000, frais_scolarite=2000)
print(crn.calcul()=="45000 + 0 - 15500 - 0 = 29500")

print("*"*50, "244")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=70000, prestation_consecutive_deces=25000)
crn.fd(km_proximite_travail_etude=50, repas_par_jour=60, resiliation_bail=500, demenagement=1900, entreposage=920, jour=15, portion_deduite_ap=4000)
crn.c(pension_ex=6000)
print(crn.calcul()=="85000 + 0 - 6220 - 0 = 78780")

print("*"*50, "245")
crb = rb.RevenuBrut()
crb.rbe(salaire_brut=83000, patron_frais_representation=2700, patron_cot_reer=1500)
crb.dah(rpa=3800)
crb.calcul()
crn = rn.RevenuNet()
crb.revenu_net_emploi
crn.a(revenu_net_emploi=crb.revenu_net_emploi, prestation_consecutive_deces=15000, allocation_depart_retraite=100000, prestation_retraite=12000, psv=3025, rrq=7500)
crn.c(reer=2500, frais_opposition=300, autres=20000)
print(crn.calcul()=="210925 + 0 - 25825 - 0 = 185100")

print("*"*50, "247")
crb =  rb.RevenuBrut(est_vendeur=True)
crb.sb(salaire_net=30000,impot_fed=4740.5, impot_prov=4740.5, rrq=2581, ass_emploi=625, ass_parentale=263, rpa=2000, ass_collectif=50)
crb.rbe(salaire_brut=crb.salaire_brut, commission_brute=5000)
crb.dah()
crb.dahv(5800)
crb.calcul()
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=crb.revenu_net_emploi, revenu_interet=[2100,50], revenu_dividende_determine=3000, revenu_location=1910, reer=[3600,600], prestation_consecutive_deces=11000)
crn.b(gain_capital_imposable=(500+2500)*2, perte_capital_deductible=5000*2, perte_placement=3000*2)
crn.c(pension_ex=25000)
crn.d()
print(crn.calcul()=="56300 + 1000 - 25000 - 3000 = 29300")

print("*"*50, "250")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=14000, revenu_interet=[3000,0])
crn.b(gain_capital_imposable=1500*2, perte_capital_deductible=3000*2, perte_placement=2250*2)
crn.c(reer=2500)
crn.d(perte_entreprise=5000)
print(crn.calcul(ap=10000)=="17000 + 750 - 2500 - 7250 - 8000 = 0")

print("*"*50, "251")
crb = rb.RevenuBrut()
crb.rbe(salaire_brut=18480)
crb.calcul()
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=crb.revenu_net_emploi, revenu_interet=[13000,0], revenu_dividende_determine=4000, revenu_entreprise=25000, revenu_agricole=7500)
crn.b(gain_capital_imposable=40000)
print(crn.calcul(ap_agricole=10000, ap_autre=70000, ap_capital=35000)=="69500 + 20000 - 0 - 0 - 7500 - 70000 - 12000 = 0")

print("*"*50, "253")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=15000, rpa=5480, revenu_dividende_determine=4000, revenu_entreprise=10000)
crn.b(perte_capital_deductible=13000, gain_capital_imposable=24000)
crn.c(reer=1000, frais_opposition=2000, frais_demenagement=800)
crn.d(perte_entreprise=14700)
print(crn.calcul(ap_autre=3000, ap_capital=4000)=="36000 + 5500 - 3800 - 14700 - 3000 - 4000 = 16000")

print("*"*50, "255")
cauto = auto.Auto(portion_personnelle=8000, portion_totale=32000)
cauto.advantage_usage(mois=12, prix=40000)
cauto.advantage_fonction(choix=1)
cauto.calcul()
crb = rb.RevenuBrut(cauto=cauto)
crb.sb(salaire_net=38500, ass_collectif=500)
crb.rbe(patron_cot_av=1000) # boni de fin d'année
crb.calcul()
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=crb.revenu_net_emploi, revenu_interet=[800,0])
crn.b(gain_capital_imposable=8000)
crn.c(reer=1500, frais_scolarite=1500, frais_demenagement=crn.fd(km_proximite_travail_etude=50, resiliation_bail=400, repas_par_jour=80, jour=16, entreposage=1000))
print(crn.calcul()=="46559 + 4000 - 4100 - 0 = 46459")

print("*"*50, "257")
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=18500, revenu_interet=[3000,0], indeminite_accident=3200)
crn.b(gain_capital_imposable=3000*2, perte_capital_deductible=5000*2)
crn.c(frais_opposition=2500)
crn.d(perte_entreprise=25000, perte_agricole=4100)
print(crn.calcul()=="24700 + 0 - 2500 - 22200 = 0")

print("*"*50, "259")
crb = rb.RevenuBrut()
crb.rbe(salaire_brut=60000)
crb.dah(rpa=5600)
crb.calcul()
crn = rn.RevenuNet()
crn.a(revenu_net_emploi=crb.revenu_net_emploi, revenu_dividende_determine=12000, revenu_dividende_etranger=850, allocation_depart_retraite=50000, revenu_interet=[1320,1000], moins_conseiller=500)
crn.b(gain_capital_imposable=20000)
crn.c(reer=30000)
crn.d(perte_agricole=6000)
print(crn.calcul()=="121780 + 10000 - 30000 - 4250 = 97530")